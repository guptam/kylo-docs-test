|image0|

==============================
Kylo Dependencies and Versions
==============================

Below is a list of some of the major components Kylo uses along with the
version that Kylo currently supports:

+----------------+-----------------+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Category**   | **Item**        | **Version**                              | **Description**                                                                                                                                                                                                                                                                                 |
+================+=================+==========================================+=================================================================================================================================================================================================================================================================================================+
| Persistence    | MySQL           | 5.x (tested with 5.1.73)                 | Used to store both the Modeshape (JCR 2.0) metadata and the Operational Relational (Kylo Ops Manager) metadata                                                                                                                                                                                  |
+----------------+-----------------+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Persistence    | Postgres        | 9.x                                      | Not fully supported yet.   Kylo Operations Manager piece should work in Postgres; however we havent fully tested it with the Feed Manager piece.   (See below on the Persistence Note)                                                                                                          |
+----------------+-----------------+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Persistence    | Modeshape       | 5.0                                      | Jboss Modeshape Java Content Repository (JCR 2.0)                                                                                                                                                                                                                                               |
+----------------+-----------------+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| JMS            | ActveMq         | 5.x  (tested with \ **5.13.3**)          | Used to send messages between different modules and to send Provenance from NiFi to Kylo                                                                                                                                                                                                        |
+----------------+-----------------+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| NiFi           | NiFi            | 0.6.x, 1.0, (HDF 2.0)                    | Either HDF or open source NiFi work.                                                                                                                                                                                                                                                            |
|                |                 |                                          |   - Kylo 0.4.1 and below work only on Nifi 0.6.x                                                                                                                                                                                                                                                |
|                |                 |                                          |   - Kylo 0.4.2 and above work with Nifi 1.0, HDF 2.0                                                                                                                                                                                                                                            |
+----------------+-----------------+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Spark          | Spark           | 1.5, 1.6                                 | NiFi and Kylo have routines that leverage Spark.  The Kylo Data Wrangler currently needs Spark 1.5 or higher due to some dependencies with the Spark Machine Learning (ML) libraries.  Spark 2.0 has not yet been tested. Spark Thrift and Spark History Service are not explicitly required.   |
+----------------+-----------------+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| UI             | Spring Boot     | 1.3.3.RELEASE (<= 0.4.1),                | All 3 Kylo apps use Spring boot (thinkbig-ui, thinkbig-services, thinkbig-spark-shell).  The version of Spring boot shouldnt matter to the client as this should be internal to the build of Kylo                                                                                               |
|                |                 | 1.3.7.RELEASE  (0.4.2)                   | Kylo v0.4.1 and prior use Spring Boot 1.3.3                                                                                                                                                                                                                                                     |
|                |                 |                                          | Kylo v0.4.2 uses Spring Boot 1.3.7                                                                                                                                                                                                                                                              |
+----------------+-----------------+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| UI             | Tomcat          | 8.0.32                                   | Tomcat is the default engine for Spring Boot.  If needed Spring Boot allows you to change to a different server (i.e. Jetty) but this hasnt been tested.                                                                                                                                        |
+----------------+-----------------+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| UI             | Angular         | Angular 1.5.3, Angular Materials 1.0.9   | Used for the thinkbig-ui app.                                                                                                                                                                                                                                                                   |
+----------------+-----------------+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Java           | Java            | Java 8\_92+                              | The Kylo install will setup its own Java Home so it doesnt affect any other Java versions running on the machine.                                                                                                                                                                               |
+----------------+-----------------+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Search         | Elasticsearch   | 2.3.x                                    | For index and search of hive metadata and indexing feed data when selected as part of creating a feed                                                                                                                                                                                           |
+----------------+-----------------+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|                |                 |                                          |                                                                                                                                                                                                                                                                                                 |
+----------------+-----------------+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|                |                 |                                          |                                                                                                                                                                                                                                                                                                 |
+----------------+-----------------+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|                |                 |                                          |                                                                                                                                                                                                                                                                                                 |
+----------------+-----------------+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

 

Required new service accounts are listed below. Within enterprises there
are often approvals required and long lead times to obtain service
accounts. Kerberos principals are required where the service interacts
with the kerberized Hadoop cluster. These services are not typically
deployed to control and data nodes. The Nifi, activemq, elastic services
and Kylo metastore databases (mysql or postgres) are IO intensive.

+---------------------+------------------------------------------------------------+-------------------------+--------------------------------+--------------------------------------------------+------------------------------------------------------------+-----------+
| **Service**         | **Purpose**                                                | **Local Linux Users**   | **Local Linux Groups**         | **Keytab file**                                  | **upn**                                                    | **spn**   |
+=====================+============================================================+=========================+================================+==================================================+============================================================+===========+
| thinkbig-services   | Kylo Coordinator                                           | thinkbig                | thinkbig, hdfs or supergroup   | /etc/security/keytabs/thinkbig.headless.keytab   | `*thinkbig@EXAMPLE.COM* <mailto:thinkbig@EXAMPLE.COM>`__   |           |
+---------------------+------------------------------------------------------------+-------------------------+--------------------------------+--------------------------------------------------+------------------------------------------------------------+-----------+
| thinkbig-ui         | Provides Kylo feed and operations user interface           | thinkbig                | thinkbig, hdfs or supergroup   |                                                  |                                                            |           |
+---------------------+------------------------------------------------------------+-------------------------+--------------------------------+--------------------------------------------------+------------------------------------------------------------+-----------+
| nifi                | Orchestrate data flows                                     | nifi                    | nifi, hdfs or supergroup       | /etc/security/keytabs/nifi.headless.keytab       | `*nifi@EXAMPLE.COM* <mailto:nifi@EXAMPLE.COM>`__           |           |
+---------------------+------------------------------------------------------------+-------------------------+--------------------------------+--------------------------------------------------+------------------------------------------------------------+-----------+
| activemq            | Broker messages between components                         | activemq                | activemq                       |                                                  |                                                            |           |
+---------------------+------------------------------------------------------------+-------------------------+--------------------------------+--------------------------------------------------+------------------------------------------------------------+-----------+
| elastic             | Manages searchable index                                   | elastic                 | elastic                        |                                                  |                                                            |           |
+---------------------+------------------------------------------------------------+-------------------------+--------------------------------+--------------------------------------------------+------------------------------------------------------------+-----------+
| mysql or postgres   | Metastore for Kylo feed manager and operational metadata   | mysql or postgres       | mysql or postgres              |                                                  |                                                            |           |
+---------------------+------------------------------------------------------------+-------------------------+--------------------------------+--------------------------------------------------+------------------------------------------------------------+-----------+

 
Persistence
-----------

Kylo captures and stores 3 types of metadata: 

   1. Setup/Configuration metadata.  This data is captured in the Kylo Feed Manager which describes how Feeds, Categories, Templates, etc are structured.

      a. This is stored using Java Content Repository (JCR 2.) using Modeshape as the JCR implementation and persisted to MySQL.

   2. Operational/Transactional metadata.  This data is captured by the system when it processes data, feeds, slas, etc.

      a. This is stored in MySQL.

   3. Searchable data index. This data is captured by the data flows where 'Index' field check box is marked.

      a. This is stored in Elasticsearch


      .. |image0| image:: media/common/thinkbig-logo.png
         :width: 3.09891in
         :height: 2.03724in
